import{a as N,d as M,e as _,g as Q,i as X,j as F,l as Y,m as tt,n as V,o as k,p as x,q as D,s as et,t as it,u as nt}from"./chunk-6AOILKHN.js";import{a as J}from"./chunk-45VFKY7Y.js";import{a as rt}from"./chunk-EAQ7ETCC.js";import{a as W,c as K,k as z,m as h,o as O}from"./chunk-NCDLYK7T.js";import{$a as m,Aa as E,Eb as i,Fb as e,Gb as l,I as B,Kb as b,Nb as u,Nc as q,Oc as $,Pb as S,Rc as Z,Wb as P,Xb as r,Yb as I,_a as p,ga as g,ha as L,ja as f,ka as v,la as G,qa as w,ra as H,t as R,tb as A,vb as C}from"./chunk-H2VV5PGB.js";var y=(()=>{let n=class n{constructor(t){this.http=t,this.URL="http://20.49.205.136:3000/tasks",this.httpOtions={headers:new W({"Content-type":"application/json"})}}getAll(){return this.http.get(this.URL,this.httpOtions)}addTask(t){return this.http.post(this.URL,t,this.httpOtions)}getTaskById(t){return this.http.get(`${this.URL}/${t}`,this.httpOtions).pipe(B(o=>(console.error("Error fetching holiday by ID:",o),R(o))))}updateTask(t,o){return this.http.put(`${this.URL}/${t}`,o,this.httpOtions)}deleteTask(t){return this.http.delete(`${this.URL}/${t}`,this.httpOtions)}};n.\u0275fac=function(o){return new(o||n)(E(K))},n.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();function pt(a,n){if(a&1){let d=b();i(0,"tr"),l(1,"td",30),i(2,"td",31),r(3),e(),i(4,"td",32),r(5),e(),i(6,"td",33),r(7),e(),i(8,"td",34),r(9),e(),i(10,"td")(11,"button",35),u("click",function(){let s=f(d).$implicit,c=S();return v(c.navigateToUpdate(s.taskId))}),l(12,"i",36),e(),i(13,"button",37),u("click",function(){let s=f(d).$implicit,c=S();return v(c.onDelete(s.taskId))}),G(),i(14,"svg",38),l(15,"path",39),e()()()()}if(a&2){let d=n.$implicit;p(3),I(d.title),p(2),I(d.description),p(2),I(d.priority),p(2),I(d.status)}}var at=(()=>{let n=class n{constructor(t,o){this.taskService=t,this.router=o,this.tasks=[]}ngOnInit(){this.loadTasks()}loadTasks(){this.taskService.getAll().subscribe(t=>{console.log(t),this.tasks=t})}onDelete(t){this.taskService.deleteTask(t).subscribe(()=>{this.loadTasks()})}navigateToUpdate(t){console.log(t),this.router.navigateByUrl("UpdateTask/"+t)}navigateToAdd(){this.router.navigateByUrl("AddTask")}};n.\u0275fac=function(o){return new(o||n)(m(y),m(h))},n.\u0275cmp=g({type:n,selectors:[["app-list-task"]],decls:42,vars:1,consts:[[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"container"],[1,"d-flex","align-items-center","justify-content-end","my-3"],["id","bulk-select-replace-element"],["type","button",1,"btn","btn-phoenix-success","btn-sm",3,"click"],["data-fa-transform","shrink-3 down-2",1,"fas","fa-plus"],[1,"ms-1"],["id","bulk-select-actions",1,"d-none","ms-3"],[1,"d-flex"],["aria-label","Bulk actions",1,"form-select","form-select-sm"],["selected",""],["value","Delete"],["value","Archive"],["type","button",1,"btn","btn-phoenix-danger","btn-sm","ms-2"],["id","tableExample"],[1,"table-responsive","mx-n1","px-1"],[1,"table","table-sm","border-top","border-200","fs--1","mb-0"],[1,"white-space-nowrap","fs--1","align-middle","ps-0",2,"max-width","20px","width","18px"],[1,"form-check","mb-0","fs-0"],["id","bulk-select-example","type","checkbox","data-bulk-select",'{"body":"bulk-select-body","actions":"bulk-select-actions","replacedElement":"bulk-select-replace-element"}',1,"form-check-input"],["data-sort","title",1,"sort","align-middle"],["data-sort","description",1,"sort","align-middle"],["data-sort","priority",1,"sort","align-middle"],["data-sort","status",1,"sort","align-middle"],["scope","col",1,"sort","text-end","align-middle","pe-0"],["id","bulk-select-body",1,"list"],[4,"ngFor","ngForOf"],[1,"fs--1","align-middle"],[1,"align-middle","name"],[1,"align-middle","job"],[1,"align-middle","date"],[1,"align-middle","status"],["type","button","data-toggle","tooltip","data-placement","top","title","Edit",1,"btn","btn-success","btn-sm","rounded-0",3,"click"],[1,"fa","fa-edit"],["type","button",1,"remove",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6ZM14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"]],template:function(o,s){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),u("click",function(){return s.navigateToAdd()}),l(8,"span",8),i(9,"span",9),r(10,"New"),e()()(),i(11,"div",10)(12,"div",11)(13,"select",12)(14,"option",13),r(15,"Bulk actions"),e(),i(16,"option",14),r(17,"Delete"),e(),i(18,"option",15),r(19,"Archive"),e()(),i(20,"button",16),r(21,"Apply"),e()()()(),i(22,"div",17)(23,"div",18)(24,"table",19)(25,"thead")(26,"tr")(27,"th",20)(28,"div",21),l(29,"input",22),e()(),i(30,"th",23),r(31,"Title"),e(),i(32,"th",24),r(33,"Description"),e(),i(34,"th",25),r(35,"Priority"),e(),i(36,"th",26),r(37,"Status"),e(),i(38,"th",27),r(39,"Action"),e()()(),i(40,"tbody",28),A(41,pt,16,4,"tr",29),e()()()()()()()()()),o&2&&(p(41),C("ngForOf",s.tasks))},dependencies:[q,k,x]});let a=n;return a})();var lt=(()=>{let n=class n{constructor(t,o){this.taskService=t,this.router=o}add(t){if(t.valid){let o={taskId:"",title:t.value.title,description:t.value.description,priority:t.value.priority,status:t.value.status,createBy:t.value.createBy,createdAt:t.value.createdAt,updatedAt:t.value,usersIDs:[],users:[]};this.taskService.addTask(o).subscribe(()=>{alert("Added Successfully!"),this.router.navigate(["tasks/"])},s=>{console.error(s)})}}};n.\u0275fac=function(o){return new(o||n)(m(y),m(h))},n.\u0275cmp=g({type:n,selectors:[["app-add-task"]],decls:58,vars:0,consts:[[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-md-6"],[3,"ngSubmit"],["addForm","ngForm"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","ngModel","","required","","placeholder","Enter the title",1,"form-control"],["for","description"],["type","text","id","description","name","description","ngModel","","placeholder","Enter the description",1,"form-control"],["for","priority"],["id","priority","name","priority","ngModel","","required","",1,"form-control"],["value","LOW"],["value","MEDIUM"],["value","HIGH"],["for","status"],["id","status","name","status","ngModel","","required","",1,"form-control"],["value","PENDING"],["value","IN_PROGRESS"],["value","COMPLETED"],["for","createBy"],["type","text","id","createBy","name","createBy","ngModel","","required","","placeholder","Enter the creator's name",1,"form-control"],["for","createdAt"],["type","datetime-local","id","createdAt","name","createdAt","ngModel","","required","",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(o,s){if(o&1){let c=b();i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5"),r(11,"Basic Component"),e()(),i(12,"div",10)(13,"h5"),r(14,"Form controls"),e(),l(15,"hr"),i(16,"div",6)(17,"div",11)(18,"form",12,13),u("ngSubmit",function(){f(c);let mt=P(19);return v(s.add(mt))}),i(20,"div",14)(21,"label",15),r(22,"Title:"),e(),l(23,"input",16),e(),i(24,"div",14)(25,"label",17),r(26,"Description:"),e(),l(27,"input",18),e(),i(28,"div",14)(29,"label",19),r(30,"Priority:"),e(),i(31,"select",20)(32,"option",21),r(33,"Low"),e(),i(34,"option",22),r(35,"Medium"),e(),i(36,"option",23),r(37,"High"),e()()(),i(38,"div",14)(39,"label",24),r(40,"Status:"),e(),i(41,"select",25)(42,"option",26),r(43,"Pending"),e(),i(44,"option",27),r(45,"In Progress"),e(),i(46,"option",28),r(47,"Completed"),e()()(),i(48,"div",14)(49,"label",29),r(50,"Created By:"),e(),l(51,"input",30),e(),i(52,"div",14)(53,"label",31),r(54,"Created At:"),e(),l(55,"input",32),e(),i(56,"button",33),r(57,"Submit"),e()()()()()()()()()()()()()()}},dependencies:[F,k,x,N,V,M,_,D,X,Q]});let a=n;return a})();function ut(a,n){if(a&1){let d=b();i(0,"form",13)(1,"div",14)(2,"label",15),r(3,"Title:"),e(),l(4,"input",16),e(),i(5,"div",14)(6,"label",17),r(7,"Description:"),e(),l(8,"input",18),e(),i(9,"div",14)(10,"label",19),r(11,"Priority:"),e(),i(12,"select",20)(13,"option",21),r(14,"Low"),e(),i(15,"option",22),r(16,"Medium"),e(),i(17,"option",23),r(18,"High"),e()()(),i(19,"div",14)(20,"label",24),r(21,"Status:"),e(),i(22,"select",25)(23,"option",26),r(24,"Pending"),e(),i(25,"option",27),r(26,"In Progress"),e(),i(27,"option",28),r(28,"Completed"),e()()(),i(29,"div",14)(30,"label",29),r(31,"Updated At:"),e(),l(32,"input",30),e(),i(33,"button",31),u("click",function(){f(d);let o=S();return v(o.updatetask())}),r(34,"Submit"),e()()}if(a&2){let d=S();C("formGroup",d.updateForm)}}var st=(()=>{let n=class n{Foyerupdate(){throw new Error("Method not implemented.")}constructor(t,o,s,c){this.route=t,this.router=o,this.formB=s,this.taskService=c}ngOnInit(){if(this.route.paramMap.subscribe(t=>{this.taskId=t.get("id")})){if(this.taskId==null)return;this.taskService.getTaskById(this.taskId).subscribe(t=>{"title"in t&&(console.log(t),this.task=t,this.updateForm=this.formB.group({title:[""],description:[""],priority:[""],status:[""],updatedAt:[""]}),this.updateForm.patchValue(t))})}}updatetask(){this.task.title=this.updateForm.value.title,this.task.description=this.updateForm.value.description,this.task.priority=this.updateForm.value.priority,this.task.status=this.updateForm.value.status,this.task.updatedAt=this.updateForm.value.updatedAt,this.taskService.updateTask(this.task.taskId,this.task).subscribe(t=>{alert("User Updated Successfully!"),console.log(this.task),this.router.navigate(["task/"])},t=>{console.error("Update failed:",t)})}};n.\u0275fac=function(o){return new(o||n)(m(z),m(h),m(et),m(y))},n.\u0275cmp=g({type:n,selectors:[["app-update-task"]],decls:20,vars:1,consts:[[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-md-6"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","title","name","title","formControlName","title","placeholder","Enter title",1,"form-control"],["for","description"],["type","text","id","description","name","description","formControlName","description","placeholder","Enter description",1,"form-control"],["for","priority"],["id","priority","name","priority","formControlName","priority","required","",1,"form-control"],["value","LOW"],["value","MEDIUM"],["value","HIGH"],["for","status"],["id","status","name","status","formControlName","status","required","",1,"form-control"],["value","PENDING"],["value","IN_PROGRESS"],["value","COMPLETED"],["for","updatedAt"],["type","date","id","updatedAt","name","updatedAt","formControlName","updatedAt","placeholder","Enter updated at",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(o,s){o&1&&(i(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"h5"),r(12,"Basic Component"),e()(),i(13,"div",10)(14,"h5"),r(15,"Form controls"),e(),l(16,"hr"),i(17,"div",6)(18,"div",11),A(19,ut,35,1,"form",12),e()()()()()()()()()()()()()),o&2&&(p(19),C("ngIf",s.updateForm))},dependencies:[$,F,k,x,N,V,M,_,D,Y,tt]});let a=n;return a})();var dt=(()=>{let n=class n{constructor(t,o){this.encryptionService=t,this.router=o}canActivate(t,o){let s=localStorage.getItem("authorities");return this.encryptionService.decrypt(s,"2f7").includes("EDIT::TASK")?!0:(this.router.navigate(["/notfound"]),!1)}};n.\u0275fac=function(o){return new(o||n)(E(J),E(h))},n.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();var ht=[{path:"",component:at,canActivate:[rt,dt]},{path:"AddTask",component:lt},{path:"UpdateTask/:id",component:st}],Ft=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=L({type:n}),n.\u0275inj=H({imports:[Z,O.forChild(ht),it,nt,O]});let a=n;return a})();export{Ft as a};
